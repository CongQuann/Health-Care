<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.scene.text.Text?>

<AnchorPane id="AnchorPane" fx:id="dashboardPane" prefHeight="735.0" prefWidth="936.0" styleClass="mainFxmlClass" stylesheets="@dashboard.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.sixthgroup.healthmanagementtraining.DashboardController">
    <children>
        <HBox styleClass="header-hbox">
            <Button fx:id="toggleNavButton" layoutX="10.0" layoutY="10.0" mnemonicParsing="false" styleClass="nav-toggle-btn">
                <graphic>
                    <SVGPath content="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" styleClass="svg-icon" />
                </graphic>
            </Button>
            <Label prefHeight="42.0" prefWidth="895.0" styleClass="nav-label">
                <graphic>
                    <SVGPath content="M22,18A4,4 0 0,1 18,22H14A4,4 0 0,1 10,18V16H22V18M4,3H14A2,2 0 0,1 16,5V14H8V19H4A2,2 0 0,1 2,17V5A2,2 0 0,1 4,3M4,6V8H6V6H4M14,8V6H8V8H14M4,10V12H6V10H4M8,10V12H14V10H8M4,14V16H6V14H4Z" styleClass="nav-icon" />                    
                </graphic>365Health</Label>
        </HBox>
        <HBox alignment="CENTER_LEFT" layoutX="121.0" layoutY="99.0">
            <Label styleClass="date-label" text="Chọn ngày:" />
            <DatePicker fx:id="datePicker" layoutX="55.0" layoutY="100.0" onAction="#datePickHandler" styleClass="date-picker" />
        </HBox>
        <HBox layoutX="118.0" layoutY="129.0" prefHeight="286.0" prefWidth="704.0">
            <GridPane prefHeight="288.0" prefWidth="737.0" styleClass="main-content">
                <!-- Widget 1: Daily Calorie Intake -->
                <VBox styleClass="widget" GridPane.columnIndex="1" GridPane.rowIndex="1">
                    <Label styleClass="widget-label" text="Calo đã hấp thụ" />
                    <Text fx:id="calorieIntakeText" styleClass="widget-value" />
                </VBox>
                <!-- Widget 2: Chất béo tiêu thụ -->
                <VBox prefHeight="118.0" prefWidth="214.0" styleClass="widget" GridPane.columnIndex="1" GridPane.rowIndex="0">
                    <Label styleClass="widget-label" text="Chất béo tiêu thụ" />
                    <Text id="lipid-text" fx:id="lipidIntakeText" styleClass="widget-value" />
                </VBox>
                <!-- Widget 3: Chất xơ tiêu thụ -->
                <VBox prefHeight="118.0" prefWidth="217.0" styleClass="widget" GridPane.columnIndex="2" GridPane.rowIndex="0">
                    <Label styleClass="widget-label" text="Chất xơ tiêu thụ" />
                    <Text id="fiber-text" fx:id="fiberIntakeText" styleClass="widget-value" />
                </VBox>
                <!-- Widget 4: Chất đạm tiêu thụ -->
                <VBox styleClass="widget">
                    <Label styleClass="widget-label" text="Chất đạm tiêu thụ" />
                    <Text id="protein-text" fx:id="proteinIntakeText" styleClass="widget-value" />
                </VBox>
                <!-- Widget 5: Tổng calo đã đốt -->
                <VBox styleClass="widget" GridPane.rowIndex="1">
                    <Label styleClass="widget-label" text="Tổng calo đã đốt" />
                    <Text fx:id="calorieBurnText" styleClass="widget-value" />
                </VBox>
                <!-- Widget 6: Calo cần có mỗi ngày -->
                <VBox styleClass="widget" GridPane.columnIndex="2" GridPane.rowIndex="1">
                    <Label styleClass="widget-label" text="Calo cần có mỗi ngày" />
                    <Text styleClass="widget-value" text="hehe kcal" />
                </VBox>
                <columnConstraints>
                    <ColumnConstraints maxWidth="211.19998779296876" minWidth="171.19998779296876" prefWidth="210.3999755859375" />
                    <ColumnConstraints maxWidth="223.2000244140625" minWidth="138.40001220703124" prefWidth="223.2000244140625" />
                    <ColumnConstraints maxWidth="216.80002441406248" minWidth="142.20004882812498" prefWidth="203.19997558593752" />
                </columnConstraints>
                <rowConstraints>
                    <RowConstraints />
                    <RowConstraints />
                    <RowConstraints />
                    <RowConstraints />
                </rowConstraints>
            </GridPane>
        </HBox>
        <HBox alignment="CENTER" layoutX="215.0" layoutY="678.0" prefHeight="42.0" prefWidth="510.0" spacing="20">
            <Button fx:id="viewFoodButton" layoutX="50.0" layoutY="500.0" mnemonicParsing="false" onAction="#switchToNutrition" styleClass="view-button" text="Xem danh sách món ăn" />
            <!-- Thêm nút xem danh sách bài tập -->
            <Button fx:id="viewExerciseButton" layoutX="250.0" layoutY="500.0" mnemonicParsing="false" onAction="#switchToExercises" styleClass="view-button" text="Xem danh sách bài tập" />
            <!-- Navbar (ban đầu ẩn bên trái) -->
        </HBox>
        <Label layoutX="362.0" layoutY="50.0" styleClass="dashboard-label" text="TỔNG QUAN" />
        <Pane layoutX="132.0" layoutY="387.0" prefHeight="274.0" prefWidth="328.0" styleClass="pie-chart-pane">
            <children>
                <PieChart fx:id="nutritionPieChart" layoutX="15.0" layoutY="12.0" prefHeight="250.0" prefWidth="299.0" title="Tỷ lệ dinh dưỡng" />
            </children>
        </Pane>
        <VBox fx:id="navBar" alignment="TOP_LEFT" layoutX="-250.0" layoutY="0.0" prefHeight="735.0" prefWidth="250.0" styleClass="nav-bar">
            <children>
                <HBox alignment="CENTER_RIGHT" spacing="26">
                    <Button fx:id="closeNavButton" mnemonicParsing="false" styleClass="close-btn" text="✖" />
                </HBox>
                <Button alignment="CENTER_LEFT" maxWidth="Infinity" mnemonicParsing="false" styleClass="nav-btn" text="Tài khoản">
                    <graphic>
                        <SVGPath content="M21.7,13.35L20.7,14.35L18.65,12.3L19.65,11.3C19.86,11.09 20.21,11.09 20.42,11.3L21.7,12.58C21.91,12.79 21.91,13.14 21.7,13.35M12,18.94L18.06,12.88L20.11,14.93L14.06,21H12V18.94M12,14C7.58,14 4,15.79 4,18V20H10V18.11L14,14.11C13.34,14.03 12.67,14 12,14M12,4A4,4 0 0,0 8,8A4,4 0 0,0 12,12A4,4 0 0,0 16,8A4,4 0 0,0 12,4Z" styleClass="nav-icon" />                    
                    </graphic>
                </Button>
                <Button alignment="CENTER_LEFT" maxWidth="Infinity" mnemonicParsing="false" styleClass="nav-btn" text="Tổng quan">
                    <graphic>
                        <SVGPath content="M13,3V9H21V3M13,21H21V11H13M3,21H11V15H3M3,13H11V3H3V13Z" styleClass="nav-icon" />                    
                    </graphic>
                </Button>
                <Button alignment="CENTER_LEFT" maxWidth="Infinity" mnemonicParsing="false" onAction="#switchToNutrition" styleClass="nav-btn" text="Quản lý dinh dưỡng">
                    <graphic>
                        <SVGPath content="M20,10C22,13 17,22 15,22C13,22 13,21 12,21C11,21 11,22 9,22C7,22 2,13 4,10C6,7 9,7 11,8V5C5.38,8.07 4.11,3.78 4.11,3.78C4.11,3.78 6.77,0.19 11,5V3H13V8C15,7 18,7 20,10Z" styleClass="nav-icon" />
                    </graphic>
                </Button>
                <Button alignment="CENTER_LEFT" maxWidth="Infinity" mnemonicParsing="false" onAction="#switchToExercises" styleClass="nav-btn" text="Ghi lại tập luyện">
                    <graphic>
                        <SVGPath content="M16.5,5.5A2,2 0 0,0 18.5,3.5A2,2 0 0,0 16.5,1.5A2,2 0 0,0 14.5,3.5A2,2 0 0,0 16.5,5.5M12.9,19.4L13.9,15L16,17V23H18V15.5L15.9,13.5L16.5,10.5C17.89,12.09 19.89,13 22,13V11C20.24,11.03 18.6,10.11 17.7,8.6L16.7,7C16.34,6.4 15.7,6 15,6C14.7,6 14.5,6.1 14.2,6.1L9,8.3V13H11V9.6L12.8,8.9L11.2,17L6.3,16L5.9,18L12.9,19.4M4,9A1,1 0 0,1 3,8A1,1 0 0,1 4,7H7V9H4M5,5A1,1 0 0,1 4,4A1,1 0 0,1 5,3H10V5H5M3,13A1,1 0 0,1 2,12A1,1 0 0,1 3,11H7V13H3Z" styleClass="nav-icon" />
                    </graphic>
                </Button>
            <Button alignment="CENTER_LEFT" layoutX="20.0" layoutY="220.0" maxWidth="Infinity" mnemonicParsing="false" onAction="#switchToExercises" styleClass="nav-btn" text="Quản lý mục tiêu">
               <graphic>
                  <SVGPath content="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,10.84 21.79,9.69 21.39,8.61L19.79,10.21C19.93,10.8 20,11.4 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.6,4 13.2,4.07 13.79,4.21L15.4,2.6C14.31,2.21 13.16,2 12,2M19,2L15,6V7.5L12.45,10.05C12.3,10 12.15,10 12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12C14,11.85 14,11.7 13.95,11.55L16.5,9H18L22,5H19V2M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12H16A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8V6Z" styleClass="nav-icon" />
               </graphic>
            </Button>
               
            </children>
        </VBox>
      <Pane layoutX="481.0" layoutY="387.0" prefHeight="274.0" prefWidth="328.0" styleClass="pie-chart-pane" />
    </children>
</AnchorPane>
